

<form [formGroup]="formGroup" (ngSubmit)="submit()">
  <h1>Zarejestruj</h1>
  <p>
    <mat-form-field apperance="fill" class="form-element">
      <mat-label>email</mat-label>
      <input matInput id="email" formControlName="email" required>

      <mat-error *ngIf="formGroup.get('email')?.hasError('email') && !formGroup.get('email')?.hasError('required')">
        Proszę podać prawidłowy email
      </mat-error>
      <mat-error *ngIf="formGroup.get('email')?.hasError('required')">
        Email jest <strong>wymagany</strong>
      </mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field apperance="fill" class="form-element">
      <mat-label>Nazwa użytkownika</mat-label>
      <input matInput id="name" formControlName="name" required>
      <mat-error *ngIf="formGroup.get('name')?.hasError('required')">
        Nazwa użytkownika jest <strong>wymagana</strong>
      </mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field apperance="fill" class="form-element">
      <mat-label>hasło</mat-label>
      <input matInput  [type]="hide ? 'password' : 'text'" id="password" formControlName="password">
      <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide" type="button">
        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-error *ngIf="formGroup.get('password')?.hasError('minlength')">
        Hasło musi mieć co najmniej 6 znaków
      </mat-error>
      <mat-error *ngIf="formGroup.get('email')?.hasError('required')">
        Hasło jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field apperance="fill" class="form-element">
      <mat-label>Powtórz hasło</mat-label>
      <input matInput  type="password" formControlName="password2" [errorStateMatcher]="matcher">
      <mat-error *ngIf="formGroup.get('password2')?.hasError('notSame')" >
        Hasła muszą być takie same
      </mat-error>

    </mat-form-field>
  </p>

  <button mat-button type="submit" [disabled]="!formGroup.valid">Submit</button>
  <br>
  <br>

  <p>Masz już konto? <a routerLink="../signin">Zaloguj się</a></p>


</form>

